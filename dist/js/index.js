(()=>{var e={584:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(812);var a=r(590),c=document.querySelector(".ticketCard-area"),o=document.querySelector(".regionSearch"),i=document.querySelector(".searchResult-text"),l=document.querySelector(".addBtn"),s=document.querySelector(".formInof"),u=document.querySelectorAll("[data-msg]"),d=document.querySelectorAll("input[type=text], input[type=number], textarea"),m=document.querySelector("#imgUpload"),p=document.querySelector(".textPreview"),f=document.querySelector("#imgPreview");l.addEventListener("click",(function(e){e.preventDefault();var t,r={套票名稱:{presence:{allowEmpty:!1,message:"是必填欄位"}},景點地區:{presence:{allowEmpty:!1,message:"是必填欄位"}},金額:{presence:{allowEmpty:!1,message:"是必填欄位"}},星級:{presence:{allowEmpty:!1,message:"是必填欄位"},numericality:{greaterThanOrEqualTo:1,lessThanOrEqualTo:10,message:"必須符合 1-10 的區間"}},套票組數:{presence:{allowEmpty:!1,message:"是必填欄位"},numericality:{greaterThan:0,message:"必須大於 0"}},套票描述:{length:{maximum:100,message:"限 100 字"}}},n={id:Date.now(),name:document.querySelector("#ticketName").value.trim(),area:document.querySelector("#ticketRegion").value.trim(),imgUrl:y,price:Number(document.querySelector("#ticketPrice").value),rate:Number(document.querySelector("#ticketRate").value),group:Number(document.querySelector("#ticketNum").value),description:document.querySelector("#ticketDescription").value.trim()},c=a(s,r);c?(u.forEach((function(e){e.textContent="",e.textContent=c[e.dataset.msg]})),d.forEach((function(e){e.addEventListener("change",(function(t){var n=e.name,c=a(s,r);e.nextElementSibling.textContent="",c&&(document.querySelector("[data-msg = '".concat(n,"']")).textContent=c[n])}))}))):(t=n,h.push(t),s.reset(),f.src="",p.innerHTML="",v("全部地區"),g())})),m.addEventListener("change",(function(e){p.innerHTML='<label class="form-label">預覽圖片</label>';var t=e.target.files[0];f.src=URL.createObjectURL(t),y=f.src})),fetch("https://mocki.io/v1/897631e8-e390-44bf-a20f-19dada06e841").then((function(e){return e.json()})).then((function(e){var t;h.push.apply(h,function(e){if(Array.isArray(e))return n(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v("全部地區"),g()})),o.addEventListener("change",(function(e){v(e.target.value)}));var h=[];function v(e){var t="",r=0;h.forEach((function(n){n.area!==e&&"全部地區"!==e||(t+='<li>\n                <div class="ticketCard-img">\n                  <a href="#">\n                    <img src="'.concat(n.imgUrl,'" alt="').concat(n.name,'">\n                  </a>\n                  <div class="ticketCard-region">').concat(n.area,'</div>\n                  <div class="ticketCard-rank">').concat(n.rate,'</div>\n                </div>\n                <div class="ticketCard-content"> \n                  <h3><a href="#" class="ticketCard-name fw-bold pb-2 mb-3">').concat(n.name,'</a></h3>\n                  <p class="ticketCard-description">').concat(n.description,'</p>\n                  <div class="d-flex justify-content-between align-items-center">\n                    <p class="display-10">\n                      <span><i class="bi bi-clock-history"></i></span>\n                      剩下最後 <span class="ticketCard-num fw-bold" >').concat(n.group,'</span> 組\n                    </p>\n                    <p>TWD <span class="ticketCard-price display-8 fw-bold">').concat(n.price,"</span></p>\n                  </div>\n                </div>\n              </li>"),r++)})),"地區搜尋"===o.value?i.textContent="":i.textContent="本次搜尋共 ".concat(r," 筆資料"),c.innerHTML=t}var y="";function g(){var e={};h.forEach((function(t){void 0===e[t.area]?e[t.area]=1:e[t.area]++}));var t=[];Object.keys(e).forEach((function(r){var n=[];n.push(r),n.push(e[r]),t.push(n)})),c3.generate({bindto:"#chart",data:{columns:t,type:"donut",colors:{高雄:"#E68618",台中:"#5151D3",台北:"#26BFC7"}},donut:{title:"套票地區比重",width:16,label:{threshold:1}},size:{height:240,width:240}})}},208:()=>{},702:()=>{},993:()=>{},386:()=>{},532:()=>{},355:()=>{}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.amdD=function(){throw new Error("define cannot be used indirect")},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={826:0},t=[[584,216]],n=()=>{};function a(){for(var n,a=0;a<t.length;a++){for(var c=t[a],o=!0,i=1;i<c.length;i++){var l=c[i];0!==e[l]&&(o=!1)}o&&(t.splice(a--,1),n=r(r.s=c[0]))}return 0===t.length&&(r.x(),r.x=()=>{}),n}r.x=()=>{r.x=()=>{},o=o.slice();for(var e=0;e<o.length;e++)c(o[e]);return(n=a)()};var c=a=>{for(var c,o,[l,s,u,d]=a,m=0,p=[];m<l.length;m++)o=l[m],r.o(e,o)&&e[o]&&p.push(e[o][0]),e[o]=0;for(c in s)r.o(s,c)&&(r.m[c]=s[c]);for(u&&u(r),i(a);p.length;)p.shift()();return d&&t.push.apply(t,d),n()},o=self.webpackChunk=self.webpackChunk||[],i=o.push.bind(o);o.push=c})(),r.x()})();